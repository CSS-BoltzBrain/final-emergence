simulation:
  dt: 0.02
  target_tolerance: 0.3

domain:
  xmin: 0.0
  xmax: 20.0
  ymin: 0.0
  ymax: 4.0

agent:
  radius: 0.25
  desired_speed: 1.5
  max_speed: 1.8
  perception_radius: 2.5
  crowd_decay: 1.2

forces:
  gradient:
    strength: 5.0          # REDUCED (30->5): Prevents infinite acceleration towards goal
    
  repulsive:
    strength: 5.0          # REDUCED (10->5): Social pushing is now polite, not violent
    decay: 2.0
    zone: 1.5
    anisotropy: 0.25

  resistance:
    gamma: 0.3             # REDUCED (0.5->0.3): Less stubbornness
    
  contact:
    # THE CRITICAL FIX:
    # Lowered k from 4000 to 200. 
    # This makes collisions solid but stable for Mass=1.
    k: 200.0               
    kappa: 100.0           # Friction reduced to match k

  random:
    probability: 0.1
    strength: 1.0          # REDUCED (5.0->1.0): Less twitchy

spawn:
  rate: 4.0                # Slower spawn to prevent instant explosions at start
  min_dist: 0.6
  left:
    x: 0.5
    y_range: [0.5, 3.5]
    target_x: 19.5
  right:
    x: 19.5
    y_range: [0.5, 3.5]
    target_x: 0.5

walls:
  - type: horizontal
    y: 0.0
    normal: [0, 1]
  - type: horizontal
    y: 4.0
    normal: [0, -1]

animation:
  interval: 20